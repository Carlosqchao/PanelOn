<div class="comments-section">
  <div class="center-container">
    <app-button [text]="'comments.addYours' | translate" (click)="toggleCommentForm()"></app-button>
  </div>

  <div class="center-container">
    <div *ngIf="showCommentForm" class="comment-form">
      <textarea
        [(ngModel)]="newCommentContent"
        [placeholder]="'comments.placeholder' | translate"
        class="comment-textarea"
      ></textarea>
      <div class="form-buttons">
        <button (click)="addComment()">{{ 'comments.submit' | translate }}</button>
        <button class="cancel-btn" (click)="toggleCommentForm()">{{ 'comments.cancel' | translate }}</button>
      </div>
    </div>

    <div *ngIf="isLoading" class="loading">
      <p>{{ 'comments.loading' | translate }}</p>
    </div>

    <div *ngIf="!isLoading" class="comments-list">
      <app-comment
        *ngFor="let comment of comments"
        [comment]="comment"
        [comicId]="comicId"
        [currentUserId]="currentUserId"
        (deleteEvent)="onDeleteComment($event)"
        (updateEvent)="onUpdateComment($event)"
      ></app-comment>
    </div>
  </div>
</div>
